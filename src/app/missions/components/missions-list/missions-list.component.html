<div
  style="padding: 50px"
  *ngIf="getSecondsToday() > 28800; else elseRef"
  class="parent"
  [class.loading]="loading"
  [class.finish]="finish"
>
  <mat-tab-group style="">
    <mat-tab label="⬤ Ежедневные задания">
      <br />
      <div
        style="
          display: flex;
          justify-content: flex-end;
          margin-top: 5px;
          margin-bottom: 10px;
        "
      >
        Скрывать выполненные задачи ({{ missions | completed }} /
        {{ missions.length - 1 }})
        <mat-slide-toggle
          color="primary"
          [checked]="hideCompletedMissions"
          (change)="toggle()"
          class="ms-2"
        ></mat-slide-toggle>
      </div>
      <br />

      <ng-container *ngFor="let mission of missions">
        <app-mission
          [mission]="mission"
          [class.hide]="mission.isCompleted() && hideCompletedMissions"
        />
      </ng-container>
    </mat-tab>
    <mat-tab label="⬤ Редкие задания">
      <br />
      <ng-container *ngFor="let mission of rareMissions">
        <app-mission [mission]="mission" />
      </ng-container>
    </mat-tab>
    <mat-tab label="⬤ Эпические задания">
      <br />
      <ng-container *ngFor="let mission of epicMissions">
        <app-mission [mission]="mission" />
      </ng-container>
    </mat-tab>
    <mat-tab label="⬤ Легендарные задания">
      <br />
      <ng-container *ngFor="let mission of legendaryMissions">
        <app-mission [mission]="mission" />
      </ng-container>
    </mat-tab>
  </mat-tab-group>
</div>

<span *ngIf="update$ | async"></span>

<ng-template #elseRef>
  <div class="container">
    <div class="h1">403</div>
    <div class="h2">Доступ запрещен</div>
    <br />
    <div class="h4">Приходите завтра за новыми заданиями!</div>
  </div>
</ng-template>
